
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISCC2019æ‚é¡¹é¢˜(MISC)æ€»ç»“ - ä¸”å¬é£åŸ</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="Saying and doing are two different things.,ISCC2019åˆšåˆšç»“æŸï¼Œä½œä¸ºä¸€ä¸ªèŒæ–°æˆ‘æ˜¯çœŸçš„èœï¼ŒçœŸå¿ƒèœä¸è¿‡ä¹Ÿä¼šå‡ é“æ‚é¡¹é¢˜ï¼Œå°±æ€»ç»“ä¸€ä¸‹åšé¢˜æ€è·¯ã€‚
Aesopâ€™s secretä¸‹è½½é™„ä»¶ï¼Œæ‰“å¼€ä¸€å¼ gifå›¾ç”¨PSæ‰“å¼€,å¯ä»¥å¾—åˆ°ä¸€å¼ å®Œæ•´çš„å›¾åšåˆ°è¿™é‡Œæ²¡æ€è·¯,"> 
    <meta name="author" content="ğŸ’—zihao"> 
    <link rel="alternative" href="atom.xml" title="ä¸”å¬é£åŸ" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">ä¸”å¬é£åŸ</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://bealright.github.io"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="icon-play"></div>
    <h3 class="subtitle"></h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title"></h1>
        <div class="stuff">
            <span>å…­æœˆ 01, 2019</span>
            

        </div>
        <div class="content markdown">
            <p><strong>è¦å…¥é—¨webå®‰å…¨ï¼Œé¦–å…ˆå°±è¦å®æˆ˜ä¸€ä¸‹ï¼Œæ‰€ä»¥å°±è·Ÿç€51CTOçš„å­™èƒœåˆ©è€å¸ˆå­¦ä¹ PHPå¥½é•¿æ—¶é—´äº†ï¼Œç»ˆäºå°†è¿™ä¸€é¡¹ç›®ï¼ˆå°é¡¹ç›®ï¼‰ç»™å®Œæˆäº†ï¼Œè™½ç„¶é‡åˆ°äº†å¾ˆå¤šerrorï¼Œä½†æœ€åè¿˜æ˜¯åšå‡ºæ¥äº†ï¼Œå°±è®°å½•ä¸€ä¸‹å¼€å‘è¿‡ç¨‹ï¼Œé¡ºä¾¿å†ç†ä¸€éæ€è·¯ã€‚</strong></p>
<p><strong>å¼€å‘å¥½åçš„å°å‹è®ºå›</strong><br><img src="https://img-blog.csdnimg.cn/20190526202116614.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190526202142806.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190526202228899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>çœ‹èµ·æ¥è¿˜æŒºæ¸…æ–°çš„ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¼€å§‹æ•´ç†æˆ‘çš„å¼€å‘ä¹‹è·¯äº†ã€‚</p>
<p><strong>å¼€å‘æ€è·¯ï¼š</strong><br><img src="https://img-blog.csdnimg.cn/20190526203525327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190526203650310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190526203656554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><strong>åˆ›å»ºåå°-çˆ¶æ¿å—</strong><br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦<strong>åˆ›å»ºä¸€ä¸ªæ•°æ®åº“</strong>æ¥ä¿å­˜æˆ‘ä»¬çš„æ‰€æ·»åŠ çš„çˆ¶æ¿å—<br><img src="https://img-blog.csdnimg.cn/20190526204108249.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ•°æ®åº“å°±å–åä¸º<code>bbs</code>,åˆ›å»ºçˆ¶æ¿å—<code>father_module</code>è¡¨ï¼Œè®¾ç½®ä¸‰ä¸ªå­—æ®µï¼Œ<code>id</code>,<code>module_name</code>,<code>sort</code>ã€‚</p>
<p>æ•°æ®åº“åˆ›å»ºå®Œæˆï¼Œå°±å¼€å§‹ç¼–å†™PHPä»£ç ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦HTMLä»£ç ç”¨æ¥å±•ç¤ºã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20190526204516723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¤§è‡´å°±æ˜¯è¿™æ ·ï¼Œå†™çˆ¶æ¿å—åŠŸèƒ½çš„æ—¶å€™ï¼Œä¸­é—´é‚£ä¸€éƒ¨åˆ†å¯ä»¥ä¸è¦ï¼Œæˆ‘ä»¬åªè¦HTMLä»£ç çš„å¤´éƒ¨ï¼Œå·¦è¾¹å’Œå°¾éƒ¨ã€‚ä¸ºäº†ä¸è®©HTMLä»£ç é‡å¤å‡ºç°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç›¸åŒçš„HTMLä»£ç é˜²åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåˆ©ç”¨PHPè°ƒç”¨å³å¯ã€‚<br><img src="https://img-blog.csdnimg.cn/2019052620480959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨adminç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªincæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾å…¥åå°ç»å¸¸è¦è°ƒç”¨çš„æ–‡ä»¶ï¼Œå¯ä»¥èŠ‚çœä»£ç é‡ã€‚<br>è¿™é‡ŒæŠŠå¤´éƒ¨çš„HTMLä»£ç æ”¾å…¥<code>header.inc.php</code>,å·¦è¾¹çš„HTMLä»£ç æ”¾å…¥<code>left.inc.php</code>,å°¾éƒ¨çš„HTMLä»£ç æ”¾å…¥    <code>footer.inc.php</code>ã€‚</p>
<p>ç°åœ¨é¡µé¢æå¥½äº†ï¼Œä½†æˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™ä¸€äº›æ•°æ®åº“ç›¸å…³çš„å‡½æ•°ï¼Œæ¯”å¦‚è¿æ¥æ•°æ®åº“ç­‰ï¼Œå¦‚æœæ²¡æœ‰è¿™äº›å‡½æ•°ï¼Œåˆ›å»ºçš„æ•°æ®åº“ä¹Ÿæ¯«æ— æ„ä¹‰ã€‚</p>
<p>å› ä¸ºå‰å°å’Œåå°éƒ½è¦ç”¨åˆ°ï¼Œæ‰€ä»¥åœ¨æ ¹ç›®å½•ä¸‹å†å»ºç«‹ä¸€ä¸ª<code>inc</code>æ–‡ä»¶å¤¹ã€‚<br><img src="https://img-blog.csdnimg.cn/20190526205431346.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ä¸‹é¢å°±å¼€å§‹ç¼–å†™PHPä»£ç ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—è¿æ¥æ•°æ®åº“ã€‚<br>è¿æ¥æ•°æ®åº“å°±å–åä¸º<code>config.in.php</code><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">date_default_timezone_set(<span class="string">'Asia/Shanghai'</span>);<span class="comment">//è®¾ç½®æ—¶åŒº</span></span><br><span class="line">session_start();<span class="comment">//å¼€å¯SESSIONï¼ŒéªŒè¯åå°ç™»é™†</span></span><br><span class="line">header(<span class="string">'Content-type:text/html;charset=utf-8'</span>);<span class="comment">//è®¾ç½®ç¼–ç </span></span><br><span class="line">define(<span class="string">'DB_HOST'</span>,<span class="string">'localhost'</span>);<span class="comment">//å®šä¹‰ä¸ºå¸¸é‡</span></span><br><span class="line">define(<span class="string">'DB_USER'</span>,<span class="string">'ç”¨æˆ·å'</span>);</span><br><span class="line">define(<span class="string">'DB_PASSWORD'</span>,<span class="string">'å¯†ç '</span>);</span><br><span class="line">define(<span class="string">'DB_DATABASE'</span>,<span class="string">'æ•°æ®åº“å'</span>);</span><br><span class="line">define(<span class="string">'SA_PATH'</span>,dirname(dirname(<span class="keyword">__FILE__</span>)));</span><br><span class="line">define(<span class="string">'SUB_URL'</span>,str_replace($_SERVER[<span class="string">'DOCUMENT_ROOT'</span>],<span class="string">''</span>,str_replace(<span class="string">'\\'</span>,<span class="string">'/'</span>,SA_PATH)).<span class="string">'/'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å†™å¥½ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™ä¸€äº›MYSQLå¸¸ç”¨çš„å‡½æ•°ï¼Œæ–¹ä¾¿åé¢å¼€å‘ä½¿ç”¨ã€‚<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="comment">//è¿æ¥æ•°æ®åº“</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">($host=DB_HOST,$user=DB_USER,$password=DB_PASSWORD,$database=DB_DATABASE)</span></span>&#123;</span><br><span class="line">	$link=@mysqli_connect($host, $user, $password, $database);</span><br><span class="line">	<span class="keyword">if</span>(mysqli_connect_errno())&#123;</span><br><span class="line">		<span class="keyword">exit</span>(mysqli_connect_error());</span><br><span class="line">	&#125;</span><br><span class="line">	mysqli_set_charset($link,<span class="string">'utf8'</span>);</span><br><span class="line">	<span class="keyword">return</span> $link;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰§è¡Œä¸€æ¡SQLè¯­å¥,è¿”å›ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execute</span><span class="params">($link,$query)</span></span>&#123;</span><br><span class="line">	$result=mysqli_query($link,$query);</span><br><span class="line">	<span class="keyword">if</span>(mysqli_errno($link))&#123;</span><br><span class="line">		<span class="keyword">exit</span>(mysqli_error($link));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–è®°å½•æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">num</span><span class="params">($link,$sql_count)</span></span>&#123;</span><br><span class="line">	$result=execute($link,$sql_count);</span><br><span class="line">	$count=mysqli_fetch_row($result);</span><br><span class="line">	<span class="keyword">return</span> $count[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ•°æ®å…¥åº“ä¹‹å‰è¿›è¡Œè½¬ä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escape</span><span class="params">($link,$data)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_string($data))&#123;</span><br><span class="line">		<span class="keyword">return</span> mysqli_real_escape_string($link,$data);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(is_array($data))&#123;</span><br><span class="line">		<span class="keyword">foreach</span> ($data <span class="keyword">as</span> $key=&gt;$val)&#123;</span><br><span class="line">			$data[$key]=escape($link,$val);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> $data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€æ¬¡æ€§æ‰§è¡Œå¤šæ¡SQLè¯­å¥</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> ä¸€æ¬¡æ€§æ‰§è¡Œå¤šæ¡SQLè¯­å¥</span></span><br><span class="line"><span class="comment">$linkï¼šè¿æ¥</span></span><br><span class="line"><span class="comment">$arr_sqlsï¼šæ•°ç»„å½¢å¼çš„å¤šæ¡sqlè¯­å¥</span></span><br><span class="line"><span class="comment">$errorï¼šä¼ å…¥ä¸€ä¸ªå˜é‡ï¼Œé‡Œé¢ä¼šå­˜å‚¨è¯­å¥æ‰§è¡Œçš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execute_multi</span><span class="params">($link,$arr_sqls,&amp;$error)</span></span>&#123;</span><br><span class="line">	$sqls=implode(<span class="string">';'</span>,$arr_sqls).<span class="string">';'</span>;</span><br><span class="line">	<span class="keyword">if</span>(mysqli_multi_query($link,$sqls))&#123;</span><br><span class="line">		$data=<span class="keyword">array</span>();</span><br><span class="line">		$i=<span class="number">0</span>;<span class="comment">//è®¡æ•°</span></span><br><span class="line">		<span class="keyword">do</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>($result=mysqli_store_result($link))&#123;</span><br><span class="line">				$data[$i]=mysqli_fetch_all($result);</span><br><span class="line">				mysqli_free_result($result);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				$data[$i]=<span class="keyword">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			$i++;</span><br><span class="line">			<span class="keyword">if</span>(!mysqli_more_results($link)) <span class="keyword">break</span>;</span><br><span class="line">		&#125;<span class="keyword">while</span> (mysqli_next_result($link));</span><br><span class="line">		<span class="keyword">if</span>($i==count($arr_sqls))&#123;</span><br><span class="line">			<span class="keyword">return</span> $data;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			$error=<span class="string">"sqlè¯­å¥æ‰§è¡Œå¤±è´¥ï¼š&lt;br /&gt;&amp;nbsp;æ•°ç»„ä¸‹æ ‡ä¸º&#123;$i&#125;çš„è¯­å¥:&#123;$arr_sqls[$i]&#125;æ‰§è¡Œé”™è¯¯&lt;br /&gt;&amp;nbsp;é”™è¯¯åŸå› ï¼š"</span>.mysqli_error($link);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		$error=<span class="string">'æ‰§è¡Œå¤±è´¥ï¼è¯·æ£€æŸ¥é¦–æ¡è¯­å¥æ˜¯å¦æ­£ç¡®ï¼&lt;br /&gt;å¯èƒ½çš„é”™è¯¯åŸå› ï¼š'</span>.mysqli_error($link);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å…³é—­è¿æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">close</span><span class="params">($link)</span></span>&#123;</span><br><span class="line">	mysqli_close($link);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™äº›å‡½æ•°éƒ½ç¼–å·åï¼Œå°±å¼€å§‹æˆ‘ä»¬ç¬¬ä¸€ä¸ªæ¿å—-çˆ¶æ¿å—ã€‚<br>æˆ‘ä»¬é¦–å…ˆè¦å¼•ç”¨è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ‰èƒ½è°ƒç”¨ä»–ä»¬ã€‚<br>æ¥ä¸‹æ¥å°±å¼€å§‹ç¼–å†™<code>father_module.php</code><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line">$link=connect();<span class="comment">//è¿æ¥æ•°æ®åº“</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span><span class="comment">//å¼•å…¥å¤´éƒ¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span><span class="comment">//å¼•å…¥å·¦è¾¹</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span><span class="comment">//å¼•å…¥å³è¾¹</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·å¤§è‡´æ¡†æ¶å°±åšå¥½äº†ï¼Œè¦æ±‚çš„çˆ¶æ¿å—é¡µé¢è‡³å°‘åŒ…æ‹¬ç¼–è¾‘ã€æ’åºã€åˆ é™¤ã€è¿™äº›åŠŸèƒ½ï¼Œé¡µé¢æ˜¯è¿™æ ·çš„ï¼ˆæœ‰ç‚¹ä¸‘ï¼‰ã€‚<br><img src="https://img-blog.csdnimg.cn/20190601154140522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é‚£ä¹ˆæ¥ä¸‹æ¥å°±å¼€å§‹åœ¨HTMLä»£ç ä¸­åµŒå…¥PHPä»£ç ï¼Œå®ç°ç›¸åº”çš„åŠŸèƒ½ã€‚<br><code>father_module.php</code>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="comment">//åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç‚¹å‡»æ’åºæŒ‰é’®</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    <span class="keyword">foreach</span>($_POST[<span class="string">'sort'</span>] <span class="keyword">as</span> $key=&gt;$val)&#123;</span><br><span class="line">    <span class="comment">//is_numeric() å‡½æ•°ç”¨äºæ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">if</span>(!is_numeric($val) || !is_numeric($key))&#123;</span><br><span class="line">			skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'æ’åºé”™è¯¯ï¼'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//æ›´æ–°sortä¸­çš„é»˜è®¤å€¼</span></span><br><span class="line">        $query[]=<span class="string">"update father_module set sort=&#123;$val&#125; where id=&#123;$key&#125;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//mysqli_multi_query() å‡½æ•°å¯ç”¨æ¥æ‰§è¡Œå¤šæ¡SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">if</span>(execute_multi($link,$query,$error))&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ’åºä¿®æ”¹æˆåŠŸ'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,$error);</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $template[<span class="string">'title'</span>]=<span class="string">'çˆ¶æ¿å—åˆ—è¡¨é¡µ'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">            	&lt;div id=<span class="string">"bg_wrapper"</span>&gt;</span><br><span class="line">                </span><br><span class="line">                    &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                        &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                            &lt;div class="jquery_tab"&gt;</span><br><span class="line">                                &lt;div class="content_block"&gt;</span><br><span class="line">                                    &lt;h2 class="jquery_tab_title"&gt;çˆ¶æ¿å—åˆ—è¡¨&lt;/h2&gt;</span><br><span class="line">                    &lt;div class="explain"&gt;</span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                            &lt;li&gt;æ·»åŠ ä½ æ‰€å–œæ¬¢çš„Ï†(*ï¿£<span class="number">0</span>ï¿£)&lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;(oã‚œâ–½ã‚œ)oâ˜†<span class="string">"(ï¿£yâ–½,ï¿£)â•­ "</span>&lt;/li&gt;</span><br><span class="line">                        &lt;/ul&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;form method=<span class="string">"POST"</span>&gt;</span><br><span class="line">        &lt;table class="list"&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;th&gt;æ’åº&lt;/th&gt;         </span><br><span class="line">                &lt;th&gt;ç‰ˆå—åç§°&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;ç‰ˆä¸»&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;æ“ä½œ&lt;/th&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            <span class="meta">&lt;?php</span></span><br><span class="line">            <span class="comment">//æŸ¥è¯¢</span></span><br><span class="line">            $query=<span class="string">"select * from father_module"</span>;</span><br><span class="line">            <span class="comment">//æ‰§è¡Œ</span></span><br><span class="line">            $result=execute($link,$query);</span><br><span class="line">            <span class="keyword">while</span> ($data=mysqli_fetch_assoc($result))&#123;</span><br><span class="line">            <span class="comment">//å°†å­—ç¬¦ä¸²ä»¥URLç¼–ç ,ç”¨äºç¼–ç å¤„ç†</span></span><br><span class="line">            $url=urlencode(<span class="string">"father_module_delete.php?id=&#123;$data['id']&#125;"</span>);</span><br><span class="line">            $return_url=urlencode($_SERVER[<span class="string">'REQUEST_URI'</span>]);</span><br><span class="line">            $message=<span class="string">"è¦åˆ é™¤çˆ¶ç‰ˆå— &#123;$data['module_name']&#125; å—ï¼Ÿ"</span>;</span><br><span class="line">            <span class="comment">//è·³è½¬ç¡®è®¤é¡µé¢ï¼Œç»™ç”¨æˆ·æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</span></span><br><span class="line">            $delete_url=<span class="string">"confirm.php?url=&#123;$url&#125;&amp;return_url=&#123;$return_url&#125;&amp;message=&#123;$message&#125;"</span>;</span><br><span class="line">$html=<span class="string">&lt;&lt;&lt;A</span></span><br><span class="line"><span class="string">              &lt;tr&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&lt;input class="sort" type="text" name="sort[<span class="subst">&#123;$data['id']&#125;</span>]" value="<span class="subst">&#123;$data['sort']&#125;</span>" /&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['module_name']&#125;</span>[id:<span class="subst">&#123;$data['id']&#125;</span>]&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;ä¸”å¬é£åŸ&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&lt;a href="#"&gt;[è®¿é—®]&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="father_module_update.php?id=<span class="subst">&#123;$data['id']&#125;</span>"&gt;[ç¼–è¾‘]&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="<span class="subst">$delete_url</span>"&gt;[åˆ é™¤]&lt;/a&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">             &lt;/tr&gt;</span></span><br><span class="line"><span class="string">A;</span></span><br><span class="line"><span class="keyword">echo</span> $html;</span><br><span class="line">                        &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">        &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="æ’åº" /&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜éœ€è¦åš<code>confirm.php</code>åˆ é™¤ç¡®è®¤é¡µé¢ã€<code>father_module_update.php</code>ç¼–è¾‘åŠŸèƒ½ã€<code>father_module_delete.php</code>åˆ é™¤åŠŸèƒ½<br>å…ˆæ¥åšä¸€ä¸‹åˆ é™¤ç¡®è®¤é¡µé¢<br><code>confirm.php</code>ä»£ç <br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="comment">//å…ˆåˆ¤æ–­æ˜¯å¦ä¼ è¿‡æ¥æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'message'</span>]) || !<span class="keyword">isset</span>($_GET[<span class="string">'url'</span>]) || !<span class="keyword">isset</span>($_GET[<span class="string">'return_url'</span>]))&#123;</span><br><span class="line">  <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">&lt;title&gt;ç¡®è®¤ç•Œé¢&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">@charset <span class="string">"UTF-8"</span>;</span><br><span class="line">@<span class="keyword">use</span> <span class="title">postcss</span>-<span class="title">cssnext</span>;</span><br><span class="line">:root &#123;</span><br><span class="line">  --windmill-dark: <span class="comment">#14222D;</span></span><br><span class="line">  --windmill-medium-dark: <span class="comment">#508BB3;</span></span><br><span class="line">  --windmill-medium: <span class="comment">#6096C4;</span></span><br><span class="line">  --windmill-medium-light: <span class="comment">#649ECD;</span></span><br><span class="line">  --windmill-light: <span class="comment">#B6E2FF;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.windmill &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: <span class="number">800</span>px;</span><br><span class="line">  height: <span class="number">500</span>px;</span><br><span class="line">  margin: auto;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  background: <span class="keyword">var</span>(--windmill-medium-light);</span><br><span class="line">&#125;</span><br><span class="line">....<span class="comment">//cssä»£ç å¤ªå¤šäº†ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºäº†ï¼ŒåªæŠŠé‡è¦çš„ä»£ç å±•ç¤ºå‡ºæ¥</span></span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> href=<span class="string">"style/remind.css"</span> /&gt;</span><br><span class="line">&lt;div class="notice"&gt;&lt;span class="pic ask"&gt;&lt;/span&gt; &lt;?php echo $_GET['message']?&gt; &lt;a style="color:red;" href="&lt;?php echo $_GET['url']?&gt;"&gt;ç¡®å®š&lt;/a&gt; | &lt;a style="color:#666;" href="&lt;?php echo $_GET['return_url']?&gt;"&gt;å–æ¶ˆ&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601155620358.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½†ç°åœ¨æ²¡æœ‰åˆ é™¤åŠŸèƒ½ï¼Œæ‰€ä»¥å†åšåˆ é™¤åŠŸèƒ½ã€‚<br><code>father_module_delete.php</code>ä»£ç <br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'id'</span>])||!is_numeric($_GET[<span class="string">'id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'idå‚æ•°é”™è¯¯!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä»å­ç‰ˆå—ä¸­æŸ¥è¯¢æ˜¯å¦æœ‰ç›¸åŒçš„idï¼Œå¦‚æœæœ‰çš„è¯å°±ä¸èƒ½ç›´æ¥åˆ é™¤</span></span><br><span class="line">$query=<span class="string">"select * from son_module where father_module_id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">$result=execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(mysqli_num_rows($result))&#123;</span><br><span class="line">    skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'æ¿å—ä¸‹æœ‰å­æ¿å—ï¼Œæ— æ³•ç›´æ¥åˆ é™¤'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æŸ¥è¯¢æ•°æ®åº“ä¸­çš„idæ˜¯å¦å’Œä¼ è¿‡æ¥çš„ç›¸åŒ</span></span><br><span class="line">$query=<span class="string">"delete from father_module where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">execute($link,$query);</span><br><span class="line"><span class="comment">//mysqli_affected_rows() å‡½æ•°è¿”å›å‰ä¸€æ¬¡ MySQL æ“ä½œï¼ˆSELECTã€INSERTã€UPDATEã€REPLACEã€DELETEï¼‰æ‰€å½±å“çš„è®°å½•è¡Œæ•°</span></span><br><span class="line"><span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'åˆ é™¤æˆåŠŸ'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ä¸‹é¢å°±æ˜¯ç¼–è¾‘é¡µé¢äº†<br><code>father_module_update.php</code>ç¼–è¾‘é¡µé¢<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line"></span><br><span class="line">$link=connect();</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'ç®¡ç†å‘˜ç¼–è¾‘é¡µ'</span>;</span><br><span class="line"><span class="comment">//éªŒè¯</span></span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'id'</span>])||!is_numeric($_GET[<span class="string">'id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'idå‚æ•°é”™è¯¯ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$query=<span class="string">"select * from father_module where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">$result=execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(!mysqli_num_rows($result))&#123;</span><br><span class="line">	skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'è¿™æ¡ç‰ˆå—ä¿¡æ¯ä¸å­˜åœ¨ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line"><span class="comment">//å› ä¸ºæ¶‰åŠä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦éªŒè¯ï¼Œåœ¨åˆ›å»ºincä¸­check_father_module.inc.phpæ–‡ä»¶æ¥éªŒè¯ã€‚</span></span><br><span class="line">    $check_flag=<span class="string">'update'</span>;</span><br><span class="line">	<span class="keyword">include</span> <span class="string">'inc/check_father_module.inc.php'</span>;</span><br><span class="line">	<span class="comment">//æ›´æ–°æ•°æ®</span></span><br><span class="line">    $query=<span class="string">"update father_module set module_name='&#123;$_POST['module_name']&#125;',sort=&#123;$_POST['sort']&#125; where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">    execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">        skip(<span class="string">'father_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ­å–œä½ ï¼Œä¿®æ”¹æˆåŠŸï¼'</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·ï¼Œä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$data=mysqli_fetch_assoc($result);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">"bg_wrapper"</span>&gt;     </span><br><span class="line">                &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                    &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                        &lt;div class="jquery_tab"&gt;</span><br><span class="line">                            &lt;div class="content_block"&gt;</span><br><span class="line">                                &lt;h2 class="jquery_tab_title"&gt;ä¿®æ”¹çˆ¶æ¿å—-&lt;?php echo $data['module_name']?&gt;&lt;/h2&gt;</span><br><span class="line">                &lt;div class="title"&gt;åŠŸèƒ½è¯´æ˜&lt;/div&gt;</span><br><span class="line">                &lt;div class="explain"&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;<span class="string">"*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ã€‚"</span>(ï¼¾ï¼µï¼¾)ãƒ~ï¼¹ï¼¯&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">        &lt;form method=<span class="string">"post"</span>&gt;</span><br><span class="line">                    &lt;table class="au"&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç‰ˆå—åç§°&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"module_name"</span> value=<span class="string">"&lt;?php echo $data['module_name']?&gt;"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ç‰ˆå—åç§°ä¸å¾—ä¸ºç©ºï¼Œæœ€å¤§ä¸å¾—è¶…è¿‡<span class="number">66</span>ä¸ªå­—ç¬¦</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ’åº&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"sort"</span> value=<span class="string">"&lt;?php echo $data['sort']?&gt;"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                å¡«å†™ä¸€ä¸ªæ•°å­—å³å¯</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/table&gt;</span><br><span class="line">    &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="ä¿®æ”¹" /&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br><span class="line">                           </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å†ç¼–è¾‘ä¸€ä¸‹<code>check_father_module.inc.php</code>éªŒè¯æ–‡ä»¶<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="comment">//åå­—ä¸èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">empty</span>($_POST[<span class="string">'module_name'</span>]))&#123;</span><br><span class="line">      skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'ä¸èƒ½ä¸ºç©º'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(mb_strlen($_POST[<span class="string">'module_name'</span>])&gt;<span class="number">66</span>)&#123;</span><br><span class="line">        skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'ç‰ˆå—åç§°ä¸å¾—å¤šä½™66ä¸ªå­—ç¬¦ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!is_numeric($_POST[<span class="string">'sort'</span>]))&#123;</span><br><span class="line">        skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'æ’åºåªèƒ½æ˜¯æ•°å­—ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿›è¡Œè½¬ä¹‰</span></span><br><span class="line">    $_POST=escape($link,$_POST);</span><br><span class="line">    <span class="comment">//é‡‡ç”¨switch æ›´åŠ æ–¹ä¾¿æ·»åŠ ï¼Œæ›´æ–°ç­‰</span></span><br><span class="line">    <span class="keyword">switch</span> ($check_flag) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'add'</span>:</span><br><span class="line">            $query=<span class="string">"select * from father_module where module_name='&#123;$_POST['module_name']&#125;'"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'update'</span>:</span><br><span class="line">            $query=<span class="string">"select * from father_module where module_name='&#123;$_POST['module_name']&#125;' and id!=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'$check_flagå‚æ•°é”™è¯¯ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    $result=execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_num_rows($result))&#123;</span><br><span class="line">        skip(<span class="string">'father_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'è¿™ä¸ªç‰ˆå—å·²ç»æœ‰äº†ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601160651588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™æ ·æˆ‘ä»¬å°±æŠŠç¬¬ä¸€ä¸ªä»»åŠ¡åšå¥½äº†ï¼Œæˆ‘ä»¬çš„çˆ¶æ¿å—å±•ç¤ºé¡µä»¥åŠåšå¥½äº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹åšå­ç‰ˆå—ã€‚</p>
<p><strong>åˆ›å»ºåå°-å­ç‰ˆå—</strong><br>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºå­ç‰ˆå—è¡¨æ¥å­˜æ”¾æˆ‘ä»¬çš„æ•°æ®ã€‚<br>èµ·åä¸º<code>son_module</code><br>åˆ›å»ºå­—æ®µ<br><img src="https://img-blog.csdnimg.cn/20190601161350397.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¥ä¸‹æ¥ï¼Œå¼€å§‹å†™å­ç‰ˆå—é¡µé¢ã€‚<br><code>son_module</code>ä»£ç <br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'å­ç‰ˆå—åˆ—è¡¨'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    <span class="comment">//å¾ªç¯è¯­å¥</span></span><br><span class="line">    <span class="comment">//$keyä»£è¡¨id,$valä»£è¡¨sort</span></span><br><span class="line">    <span class="comment">//ç”¨var_dump()è¾“å‡ºä¸€ä¸‹å°±äº†è§£äº†</span></span><br><span class="line">    <span class="keyword">foreach</span>($_POST[<span class="string">'sort'</span>] <span class="keyword">as</span> $key=&gt;$val)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!is_numeric($val) || !is_numeric($key))&#123;</span><br><span class="line">			skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'æ’åºé”™è¯¯ï¼'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">        $query[]=<span class="string">"update son_module set sort=&#123;$val&#125; where id=&#123;$key&#125;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">if</span>(execute_multi($link,$query,$error))&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ’åºä¿®æ”¹æˆåŠŸ'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,$error);</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">            	&lt;div id=<span class="string">"bg_wrapper"</span>&gt;</span><br><span class="line">                </span><br><span class="line">                    &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                        &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                            &lt;div class="jquery_tab"&gt;</span><br><span class="line">                                &lt;div class="content_block"&gt;</span><br><span class="line">                                    &lt;h2 class="jquery_tab_title"&gt;å­æ¿å—åˆ—è¡¨&lt;/h2&gt;</span><br><span class="line">                    </span><br><span class="line">                                    &lt;form method=<span class="string">"POST"</span>&gt;</span><br><span class="line">        &lt;table class="list"&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;th&gt;æ’åº&lt;/th&gt;         </span><br><span class="line">                &lt;th&gt;ç‰ˆå—åç§°&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;æ‰€å±çˆ¶æ¿å—&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;ç‰ˆä¸»&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;æ“ä½œ&lt;/th&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            <span class="meta">&lt;?php</span></span><br><span class="line">            <span class="comment">//èµ·ä¸€ä¸ªåˆ«åï¼Œssmä»£è¡¨son_module</span></span><br><span class="line">            <span class="comment">//sfmä»£è¡¨father_moduleï¼Œæœ‰çš„èµ·åç›¸åŒä¼šé€ æˆé”™è¯¯</span></span><br><span class="line">            $query=<span class="string">"select ssm.id,ssm.sort,ssm.module_name,sfm.module_name father_module_name,ssm.member_id from son_module ssm,father_module sfm where ssm.father_module_id=sfm.id order by sfm.id"</span>;</span><br><span class="line">            $result=execute($link,$query);</span><br><span class="line">            <span class="keyword">while</span> ($data=mysqli_fetch_assoc($result))&#123;</span><br><span class="line">            $url=urlencode(<span class="string">"son_module_delete.php?id=&#123;$data['id']&#125;"</span>);</span><br><span class="line">            $return_url=urlencode($_SERVER[<span class="string">'REQUEST_URI'</span>]);</span><br><span class="line">            $message=<span class="string">"è¦åˆ é™¤å­ç‰ˆå— &#123;$data['module_name']&#125; å—ï¼Ÿ"</span>;</span><br><span class="line">            $delete_url=<span class="string">"confirm.php?url=&#123;$url&#125;&amp;return_url=&#123;$return_url&#125;&amp;message=&#123;$message&#125;"</span>;</span><br><span class="line">$html=<span class="string">&lt;&lt;&lt;A</span></span><br><span class="line"><span class="string">              &lt;tr&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&lt;input class="sort" type="text" name="sort[<span class="subst">&#123;$data['id']&#125;</span>]" value="<span class="subst">&#123;$data['sort']&#125;</span>" /&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['module_name']&#125;</span>[id:<span class="subst">&#123;$data['id']&#125;</span>]&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['father_module_name']&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['member_id']&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&lt;a href="#"&gt;[è®¿é—®]&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="son_module_update.php?id=<span class="subst">&#123;$data['id']&#125;</span>"&gt;[ç¼–è¾‘]&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;a href="<span class="subst">$delete_url</span>"&gt;[åˆ é™¤]&lt;/a&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">             &lt;/tr&gt;</span></span><br><span class="line"><span class="string">A;</span></span><br><span class="line"><span class="keyword">echo</span> $html;</span><br><span class="line">                        &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">        &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="æ’åº" /&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;         </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p> è¿™é‡Œçš„ä»£ç å’Œçˆ¶æ¿å—çš„æŸ¥ä¸å¤šï¼Œä½†æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„å­ç‰ˆå—å¿…é¡»æ˜¯å±äºå…¶ä¸­ä¸€ä¸ªçˆ¶æ¿å—ä¸‹é¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å­ç‰ˆå—åˆ›å»ºçš„<code>father_module_id</code>å°±æ˜¯ç”¨æ¥åŒºåˆ†è¯¥å­ç‰ˆå—æ˜¯å±äºé‚£ä¸ªçˆ¶æ¿å—çš„ã€‚<br> å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601161812397.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å’Œçˆ¶æ¿å—ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿéœ€è¦<code>son_module_add.php</code>å­ç‰ˆå—æ·»åŠ ã€<code>son_module_delete.php</code>å­ç‰ˆå—åˆ é™¤ã€<code>son_module_update.php</code>å­æ¿å—ç¼–è¾‘<br>å…ˆæ¥åš<code>son_module_add.php</code>å­ç‰ˆå—æ·»åŠ <br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å­æ¿å—æ·»åŠ é¡µé¢</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'å­æ¿å—æ·»åŠ é¡µé¢'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    <span class="comment">//éªŒè¯å¡«å†™çš„ä¿¡æ¯</span></span><br><span class="line">    $check_flag=<span class="string">'add'</span>;</span><br><span class="line">	<span class="keyword">include</span> <span class="string">'inc/check_son_module.inc.php'</span>;</span><br><span class="line">	<span class="comment">// æ’å…¥æ•°æ®</span></span><br><span class="line">    $query=<span class="string">"insert into son_module(father_module_id,module_name,info,member_id,sort) values(&#123;$_POST['father_module_id']&#125;,'&#123;$_POST['module_name']&#125;','&#123;$_POST['info']&#125;',&#123;$_POST['member_id']&#125;,&#123;$_POST['sort']&#125;)"</span>;</span><br><span class="line">    execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">        skip(<span class="string">'son_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ­å–œä½ ï¼Œæ·»åŠ æˆåŠŸï¼'</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·ï¼Œæ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">"bg_wrapper"</span>&gt;     </span><br><span class="line">                &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                    &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                        &lt;div class="jquery_tab"&gt;</span><br><span class="line">                            &lt;div class="content_block"&gt;</span><br><span class="line">                                &lt;h2 class="jquery_tab_title"&gt;æ·»åŠ å­æ¿å—&lt;/h2&gt;</span><br><span class="line">                &lt;div class="explain"&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;æ·»åŠ ä½ æ‰€å–œæ¬¢çš„ï¼ˆ*ï¼¾-ï¼¾*ï¼‰&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;<span class="string">"*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ã€‚"</span>&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">        &lt;form method=<span class="string">"post"</span>&gt;</span><br><span class="line">                    &lt;table class="au"&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ‰€å±çˆ¶æ¿å—&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                            &lt;select name=<span class="string">"father_module_id"</span>&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"0"</span>&gt;---é€‰æ‹©ä¸€ä¸ªçˆ¶æ¿å—---&lt;/option&gt;</span><br><span class="line">                                <span class="meta">&lt;?php</span></span><br><span class="line">                                $query=<span class="string">"select * from father_module"</span>;</span><br><span class="line">                                $result_father=execute($link,$query);</span><br><span class="line">                                <span class="keyword">while</span>($data_father=mysqli_fetch_assoc($result_father))&#123;</span><br><span class="line">                                    <span class="keyword">echo</span> <span class="string">"&lt;option value='&#123;$data_father['id']&#125;'&gt;&#123;$data_father['module_name']&#125;&lt;/option&gt;"</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="meta">?&gt;</span></span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                è¯·é€‰æ‹©ä¸€ä¸ªçˆ¶æ¿å—</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç‰ˆå—åç§°&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"module_name"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ç‰ˆå—åç§°ä¸å¾—ä¸ºç©ºï¼Œæœ€å¤§ä¸å¾—è¶…è¿‡<span class="number">66</span>ä¸ªå­—ç¬¦</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ¿å—ç®€ä»‹&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                &lt;textarea name=<span class="string">"info"</span>&gt;&lt;/textarea&gt;</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ä¸å¾—å¤šäº<span class="number">255</span>ä¸ªå­—ç¬¦</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç‰ˆä¸»&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                            &lt;select name=<span class="string">"member_id"</span>&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"0"</span>&gt;---é€‰æ‹©ä¸€ä¸ªç‰ˆä¸»---&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                è¯·é€‰æ‹©ä¸€ä¸ªä¼šå‘˜ä½œä¸ºç‰ˆä¸»</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ’åº&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"sort"</span> value=<span class="string">"0"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                å¡«å†™ä¸€ä¸ªæ•°å­—å³å¯</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/table&gt;</span><br><span class="line">    &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="æ·»åŠ " /&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br><span class="line">                           </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬è¿˜éœ€éªŒè¯ï¼Œæ‰€ä»¥åœ¨incæ–‡ä»¶ä¸­åˆ›å»º<code>check_son_module.inc.php</code>æ–‡ä»¶<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(!is_numeric($_POST[<span class="string">'father_module_id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">' æ‰€å±çˆ¶æ¿å—ä¸èƒ½ä¸ºç©º'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$query=<span class="string">"select * from father_module where id=&#123;$_POST['father_module_id']&#125;"</span>;</span><br><span class="line">$result=execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(mysqli_num_rows($result)==<span class="number">0</span>)&#123;</span><br><span class="line">    skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">' æ‰€å±çˆ¶æ¿å—ä¸å­˜åœ¨'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">empty</span>($_POST[<span class="string">'module_name'</span>]))&#123;</span><br><span class="line">	skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'å­ç‰ˆå—åç§°ä¸å¾—ä¸ºç©ºï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">if</span>(mb_strlen($_POST[<span class="string">'module_name'</span>])&gt;<span class="number">66</span>)&#123;</span><br><span class="line">      skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'å­ç‰ˆå—åç§°ä¸å¾—å¤šä½™66ä¸ªå­—ç¬¦ï¼'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">$_POST=escape($link,$_POST);</span><br><span class="line">	<span class="keyword">switch</span> ($check_flag)&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'add'</span>:</span><br><span class="line">			$query=<span class="string">"select * from son_module where module_name='&#123;$_POST['module_name']&#125;'"</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'update'</span>:</span><br><span class="line">			$query=<span class="string">"select * from son_module where module_name='&#123;$_POST['module_name']&#125;' and id!=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'$check_flagå‚æ•°é”™è¯¯ï¼'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">$result=execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(mysqli_num_rows($result))&#123;</span><br><span class="line">    skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'è¿™ä¸ªå­æ¿å—å·²ç»æœ‰äº†'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mb_strlen($_POST[<span class="string">'info'</span>])&gt;<span class="number">255</span>)&#123;</span><br><span class="line">	skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'å­ç‰ˆå—ç®€ä»‹ä¸å¾—å¤šäº255ä¸ªå­—ç¬¦ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!is_numeric($_POST[<span class="string">'sort'</span>]))&#123;</span><br><span class="line">	skip(<span class="string">'son_module_add.php'</span>,<span class="string">'error'</span>,<span class="string">'æ’åºåªèƒ½æ˜¯æ•°å­—ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601162610436.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><code>son_module_delete.php</code>å­ç‰ˆå—åˆ é™¤<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å­ç‰ˆå—åˆ é™¤é¡µé¢</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'å­æ¿å—åˆ é™¤é¡µ'</span>;</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'id'</span>])||!is_numeric($_GET[<span class="string">'id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'idå‚æ•°é”™è¯¯!'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'å­ç‰ˆå—åˆ é™¤é¡µé¢'</span>;</span><br><span class="line">$query=<span class="string">"delete from son_module where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">execute($link,$query);</span><br><span class="line"><span class="comment">//mysqli_affected_rows() å‡½æ•°è¿”å›å‰ä¸€æ¬¡ MySQL æ“ä½œï¼ˆSELECTã€INSERTã€UPDATEã€REPLACEã€DELETEï¼‰æ‰€å½±å“çš„è®°å½•è¡Œæ•°</span></span><br><span class="line"><span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'åˆ é™¤æˆåŠŸ'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><code>son_module_update.php</code>å­æ¿å—ç¼–è¾‘<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å­æ¿å—ç¼–è¾‘é¡µé¢</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'å­ç‰ˆå—ç¼–è¾‘é¡µé¢'</span>;</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'id'</span>])||!is_numeric($_GET[<span class="string">'id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'father_module.php'</span>,<span class="string">'error'</span>,<span class="string">'idå‚æ•°é”™è¯¯ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$query=<span class="string">"select * from son_module where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">$result=execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(!mysqli_num_rows($result))&#123;</span><br><span class="line">    skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'è¿™æ¡æ¿å—ä¿¡æ¯ä¸å­˜åœ¨'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿®æ”¹åŠ éªŒè¯</span></span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²ç±»å‹çš„ç”¨åœ¨å¤–é¢åŠ ä¸Š''ï¼Œä¾‹å¦‚ï¼šmodule_name='&#123;$_POST['module_name']&#125;'</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    $check_flag=<span class="string">'update'</span>;</span><br><span class="line">    <span class="keyword">include</span> <span class="string">'inc/check_son_module.inc.php'</span>;</span><br><span class="line">    $query=<span class="string">"update son_module set father_module_id=&#123;$_POST['father_module_id']&#125;,module_name='&#123;$_POST['module_name']&#125;',info='&#123;$_POST['info']&#125;',member_id=&#123;$_POST['member_id']&#125;,sort=&#123;$_POST['sort']&#125; where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">    execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">        skip(<span class="string">'son_module.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ­å–œä½ ï¼Œä¿®æ”¹æˆåŠŸï¼'</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        skip(<span class="string">'son_module.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·ï¼Œä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$data=mysqli_fetch_assoc($result);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">"bg_wrapper"</span>&gt;     </span><br><span class="line">                &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                    &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                        &lt;div class="jquery_tab"&gt;</span><br><span class="line">                            &lt;div class="content_block"&gt;</span><br><span class="line">                                &lt;h2 class="jquery_tab_title"&gt;ä¿®æ”¹å­æ¿å—â€”â€”&lt;?php echo $data['module_name']?&gt;&lt;/h2&gt;</span><br><span class="line">                &lt;div class="explain"&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;ï¼ˆ*ï¼¾-ï¼¾*ï¼‰&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;<span class="string">"*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ã€‚"</span>&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">        &lt;form method=<span class="string">"post"</span>&gt;</span><br><span class="line">                    &lt;table class="au"&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;çˆ¶æ¿å—&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                            &lt;select name=<span class="string">"father_module_id"</span>&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"0"</span>&gt;---é€‰æ‹©ä¸€ä¸ªçˆ¶æ¿å—---&lt;/option&gt;</span><br><span class="line">                                <span class="meta">&lt;?php</span></span><br><span class="line">                                $query=<span class="string">"select * from father_module"</span>;</span><br><span class="line">                                $result_father=execute($link,$query);</span><br><span class="line">                                <span class="keyword">while</span>($data_father=mysqli_fetch_assoc($result_father))&#123;</span><br><span class="line">                                    <span class="keyword">if</span>($data[<span class="string">'father_module_id'</span>]==$data_father[<span class="string">'id'</span>])&#123;</span><br><span class="line">                                        <span class="keyword">echo</span> <span class="string">"&lt;option selected='selected' value='&#123;$data_father['id']&#125;'&gt;&#123;$data_father['module_name']&#125;&lt;/option&gt;"</span>;</span><br><span class="line">                                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                                    <span class="keyword">echo</span> <span class="string">"&lt;option value='&#123;$data_father['id']&#125;'&gt;&#123;$data_father['module_name']&#125;&lt;/option&gt;"</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                                <span class="meta">?&gt;</span></span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                é€‰æ‹©è¦ä¿®æ”¹çš„çˆ¶æ¿å—</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç‰ˆå—åç§°&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"module_name"</span> value=<span class="string">"&lt;?php echo $data['module_name']?&gt;"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ä¿®æ”¹æ¿å—åç§°ï¼Œæœ€å¤§ä¸å¾—è¶…è¿‡<span class="number">66</span>ä¸ªå­—ç¬¦</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ¿å—ç®€ä»‹&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                &lt;textarea name=<span class="string">"info"</span>&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $data[<span class="string">'info'</span>]<span class="meta">?&gt;</span>&lt;/textarea&gt;</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ä¿®æ”¹ç®€ä»‹ï¼Œä¸å¾—å¤šäº<span class="number">255</span>ä¸ªå­—ç¬¦</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç‰ˆä¸»&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                            &lt;select name=<span class="string">"member_id"</span>&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"0"</span>&gt;---é€‰æ‹©ä¸€ä¸ªç‰ˆä¸»---&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ä¿®æ”¹ç‰ˆä¸»</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;æ’åº&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"sort"</span> value=<span class="string">"&lt;?php echo $data['sort']?&gt;"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                ä¿®æ”¹æ’åº</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/table&gt;</span><br><span class="line">    &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="ä¿®æ”¹" /&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br><span class="line">                           </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/201906011631423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™æ ·å­æ¿å—å’Œçˆ¶æ¿å—åŸºæœ¬åŠŸèƒ½éƒ½å·²ç»å®ç°äº†ã€‚</p>
<p><strong>åå°å¼€å‘-ç®¡ç†å‘˜</strong><br>æˆ‘ä»¬éœ€è¦åˆ›å»ºç®¡ç†å‘˜æ·»åŠ åŠŸèƒ½å’Œç®¡ç†å‘˜åˆ—è¡¨ï¼Œåœ¨æ­¤ä¹‹å‰å…ˆå»º<code>manage</code>è¡¨<br>æ·»åŠ å­—æ®µ<br><img src="https://img-blog.csdnimg.cn/2019060116350383.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><code>manage.php</code>ç®¡ç†å‘˜åˆ—è¡¨<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'ç®¡ç†å‘˜åˆ—è¡¨é¡µ'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">"bg_wrapper"</span>&gt;</span><br><span class="line">                </span><br><span class="line">                    &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                        &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                            &lt;div class="jquery_tab"&gt;</span><br><span class="line">                                &lt;div class="content_block"&gt;</span><br><span class="line">                                    &lt;h2 class="jquery_tab_title"&gt;ç®¡ç†å‘˜åˆ—è¡¨é¡µ&lt;/h2&gt;</span><br><span class="line">                    &lt;div class="explain"&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">          </span><br><span class="line">        &lt;table class="list"&gt;</span><br><span class="line">            &lt;tr&gt;      </span><br><span class="line">                &lt;th&gt;ç®¡ç†å‘˜åç§°&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;ç®¡ç†ç­‰çº§&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;åˆ›å»ºæ—¥æœŸ&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;æ“ä½œ&lt;/th&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            <span class="meta">&lt;?php</span></span><br><span class="line">            $query=<span class="string">"select * from manage"</span>;</span><br><span class="line">            $result=execute($link,$query);</span><br><span class="line">            <span class="keyword">while</span> ($data=mysqli_fetch_assoc($result))&#123;</span><br><span class="line">                <span class="keyword">if</span>($data[<span class="string">'level'</span>]==<span class="number">0</span>)&#123;</span><br><span class="line">                    $data[<span class="string">'level'</span>]=<span class="string">'è¶…çº§ç®¡ç†å‘˜'</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    $data[<span class="string">'level'</span>]=<span class="string">'æ™®é€šç®¡ç†å‘˜'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            $url=urlencode(<span class="string">"manage_delete.php?id=&#123;$data['id']&#125;"</span>);</span><br><span class="line">            $return_url=urlencode($_SERVER[<span class="string">'REQUEST_URI'</span>]);</span><br><span class="line">            $message=<span class="string">"è¦åˆ é™¤ç®¡ç†å‘˜ &#123;$data['name']&#125; å—ï¼Ÿ"</span>;</span><br><span class="line">            $delete_url=<span class="string">"confirm.php?url=&#123;$url&#125;&amp;return_url=&#123;$return_url&#125;&amp;message=&#123;$message&#125;"</span>;</span><br><span class="line">$html=<span class="string">&lt;&lt;&lt;A</span></span><br><span class="line"><span class="string">              &lt;tr&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['name']&#125;</span>[id:<span class="subst">&#123;$data['id']&#125;</span>]&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['level']&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;<span class="subst">&#123;$data['create_time']&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&lt;a href="<span class="subst">&#123;$delete_url&#125;</span>"&gt;[åˆ é™¤]&lt;/a&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">             &lt;/tr&gt;</span></span><br><span class="line"><span class="string">A;</span></span><br><span class="line"><span class="keyword">echo</span> $html;</span><br><span class="line">                        &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601163724291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><code>manage_delete.php</code>ç®¡ç†å‘˜åˆ é™¤åŠŸèƒ½<br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å­ç‰ˆå—åˆ é™¤é¡µé¢</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">isset</span>($_GET[<span class="string">'id'</span>])||!is_numeric($_GET[<span class="string">'id'</span>]))&#123;</span><br><span class="line">    skip(<span class="string">'manage.php'</span>,<span class="string">'error'</span>,<span class="string">'idå‚æ•°é”™è¯¯!'</span>);</span><br><span class="line">&#125;</span><br><span class="line">$link=connect();</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'ç®¡ç†å‘˜åˆ é™¤é¡µé¢'</span>;</span><br><span class="line">$query=<span class="string">"delete from manage where id=&#123;$_GET['id']&#125;"</span>;</span><br><span class="line">execute($link,$query);</span><br><span class="line"><span class="comment">//mysqli_affected_rows() å‡½æ•°è¿”å›å‰ä¸€æ¬¡ MySQL æ“ä½œï¼ˆSELECTã€INSERTã€UPDATEã€REPLACEã€DELETEï¼‰æ‰€å½±å“çš„è®°å½•è¡Œæ•°</span></span><br><span class="line"><span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">    skip(<span class="string">'manage.php'</span>,<span class="string">'ok'</span>,<span class="string">'åˆ é™¤æˆåŠŸ'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'manage.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><code>manage_add.php</code>ç®¡ç†å‘˜æ·»åŠ åŠŸèƒ½<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$template[<span class="string">'title'</span>]=<span class="string">'ç®¡ç†å‘˜æ·»åŠ é¡µ'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    $check_flag=<span class="string">'add'</span>;</span><br><span class="line">    <span class="keyword">include</span> <span class="string">'inc/check_manage.inc.php'</span>;</span><br><span class="line">    $query=<span class="string">"insert into manage(name,pw,create_time,level) values('&#123;$_POST['name']&#125;',md5(&#123;$_POST['pw']&#125;),now(),&#123;$_POST['level']&#125;)"</span>;</span><br><span class="line">    execute($link,$query);</span><br><span class="line"><span class="keyword">if</span>(mysqli_affected_rows($link)==<span class="number">1</span>)&#123;</span><br><span class="line">    skip(<span class="string">'manage.php'</span>,<span class="string">'ok'</span>,<span class="string">'æ­å–œä½ ï¼Œæ·»åŠ æˆåŠŸï¼'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    skip(<span class="string">'manage.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯¹ä¸èµ·ï¼Œæ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•ï¼'</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/header.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;div id=<span class="string">"bg_wrapper"</span>&gt;     </span><br><span class="line">                &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                    &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line">                        &lt;div class="jquery_tab"&gt;</span><br><span class="line">                            &lt;div class="content_block"&gt;</span><br><span class="line">                                &lt;h2 class="jquery_tab_title"&gt;æ·»åŠ ç®¡ç†å‘˜&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">                &lt;div class="explain"&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;ï¼ˆ*ï¼¾-ï¼¾*ï¼‰&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;(oã‚œâ–½ã‚œ)oâ˜†&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;(â—<span class="string">'â—¡'</span>â—)&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">        &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">        &lt;form method=<span class="string">"post"</span>&gt;</span><br><span class="line">                    &lt;table class="au"&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç®¡ç†å‘˜åç§°&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"name"</span> type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                åç§°ä¸å¾—ä¸ºç©º</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;å¯†ç &lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;&lt;input name=<span class="string">"pw"</span>  type=<span class="string">"text"</span> /&gt;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                å¯†ç ä¸å¾—ä½äºå…­ä½</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;ç­‰çº§&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                &lt;select name=<span class="string">"level"</span>&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"1"</span>&gt;æ™®é€šç®¡ç†å‘˜&lt;/option&gt;</span><br><span class="line">                                &lt;option value=<span class="string">"0"</span>&gt;è¶…çº§ç®¡ç†å‘˜&lt;/option&gt;</span><br><span class="line">                                &lt;/select&gt;</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                è¯·é€‰æ‹©ä¸€ä¸ªç­‰çº§</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/table&gt;</span><br><span class="line">    &lt;input style="margin-top:20px;cursor:pointer;" class="btn" type="submit" name="submit" value="æ·»åŠ " /&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">                                &lt;/div&gt;&lt;!--end content_block--&gt;</span><br><span class="line">                                </span><br><span class="line">                            &lt;/div&gt;&lt;!-- end jquery_tab --&gt;</span><br><span class="line">                           </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/left.inc.php'</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'inc/footer.inc.php'</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æœ‰å¾€æ•°æ®åº“ä¸­æ·»åŠ çš„ï¼Œæˆ‘ä»¬å¿…é¡»éªŒè¯ï¼Œæ‰€ä»¥å†åˆ›å»ºä¸€ä¸ªéªŒè¯çš„æ–‡ä»¶<br><code>check_manage.inc.php</code>éªŒè¯æ·»åŠ ç®¡ç†å‘˜<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">empty</span>($_POST[<span class="string">'name'</span>]))&#123;</span><br><span class="line">      skip(<span class="string">'manage_add.php'</span>,<span class="string">'error'</span>,<span class="string">'ç®¡ç†åç§°ä¸å¾—ä¸ºç©º'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(mb_strlen($_POST[<span class="string">'name'</span>])&gt;<span class="number">32</span>)&#123;</span><br><span class="line">        skip(<span class="string">'manage_add.php'</span>,<span class="string">'error'</span>,<span class="string">'ç®¡ç†å‘˜åç§°ä¸å¾—å¤šäº32ä¸ªå­—ç¬¦'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(mb_strlen($_POST[<span class="string">'name'</span>])&lt;<span class="number">6</span>)&#123;</span><br><span class="line">        skip(<span class="string">'manage_add.php'</span>,<span class="string">'error'</span>,<span class="string">'å¯†ç ä¸å¾—å°‘äº6ä½'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $_POST=escape($link,$_POST);</span><br><span class="line">    $query=<span class="string">"select * from manage where name='&#123;$_POST['name']&#125;'"</span>;</span><br><span class="line">    $result=execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_num_rows($result))&#123;</span><br><span class="line">        skip(<span class="string">'manage_add.php'</span>,<span class="string">'error'</span>,<span class="string">'è¯¥ç®¡ç†å‘˜åç§°ä»¥åŠå­˜åœ¨'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é»˜è®¤ä¼ è¿‡æ¥çš„æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">isset</span>($_POST[<span class="string">'level'</span>]))&#123;</span><br><span class="line">        $_POST[<span class="string">'level'</span>]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>($_POST[<span class="string">'level'</span>]==<span class="string">'0'</span>)&#123;</span><br><span class="line">        $_POST[<span class="string">'level'</span>]==<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>($_POST[<span class="string">'level'</span>]==<span class="string">'1'</span>)&#123;</span><br><span class="line">        $_POST[<span class="string">'level'</span>]==<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $_POST[<span class="string">'level'</span>]==<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601164306355.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æˆ‘ä»¬è¿™é‡Œ0ä»£è¡¨è¶…çº§ç®¡ç†å‘˜ï¼Œ1ä»£è¡¨æ™®é€šç®¡ç†å‘˜ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯æ™®é€šç®¡ç†å‘˜æ²¡æœ‰æƒé™å»æ·»åŠ ç®¡ç†å‘˜ï¼Œè€Œè¶…çº§ç®¡ç†å‘˜æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚è¿™ä¸ªåŠŸèƒ½ç¨åå¼€å‘ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å‘ç™»é™†é¡µé¢å’Œåå°é¦–é¡µã€‚<br>åå°é¦–é¡µ<code>index.php</code><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/is_manage_login.inc.php'</span>;</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select * from manage where id=&#123;$_SESSION['manage']['id']&#125;"</span>;</span><br><span class="line">$result_manage=execute($link, $query);</span><br><span class="line">$data_manage=mysqli_fetch_assoc($result_manage);</span><br><span class="line"><span class="keyword">if</span>($data_manage[<span class="string">'level'</span>]==<span class="string">'0'</span>)&#123;</span><br><span class="line">	$data_manage[<span class="string">'level'</span>]=<span class="string">'è¶…çº§ç®¡ç†å‘˜'</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	$data_manage[<span class="string">'level'</span>]=<span class="string">'æ™®é€šç®¡ç†å‘˜'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select count(*) from father_module"</span>;</span><br><span class="line">$count_father_module=num($link,$query);</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select count(*) from son_module"</span>;</span><br><span class="line">$count_son_module=num($link,$query);</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select count(*) from content"</span>;</span><br><span class="line">$count_content=num($link,$query);</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select count(*) from reply"</span>;</span><br><span class="line">$count_reply=num($link,$query);</span><br><span class="line">                            </span><br><span class="line">$query=<span class="string">"select count(*) from member"</span>;</span><br><span class="line">$count_member=num($link,$query);</span><br><span class="line"></span><br><span class="line">$query=<span class="string">"select count(*) from manage"</span>;</span><br><span class="line">$count_manage=num($link,$query);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html <span class="keyword">PUBLIC</span> <span class="string">"-//W3C//DTD XHTML 1.0 Strict//EN"</span> <span class="string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"</span>&gt;</span><br><span class="line">&lt;html xmlns=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span> /&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"description"</span> content=<span class="string">"Reflect Template"</span> /&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"IE=EmulateIE7"</span> /&gt;</span><br><span class="line">        &lt;title&gt;åå°é¦–é¡µ&lt;/title&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"css/style_all.css"</span> type=<span class="string">"text/css"</span> media=<span class="string">"screen"</span> /&gt;</span><br><span class="line">  </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        &lt;!-- to choose another color scheme uncomment one of the foloowing stylesheets <span class="keyword">and</span> wrap styl1.css into a comment --&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"css/style8.css"</span> type=<span class="string">"text/css"</span> media=<span class="string">"screen"</span> /&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"css/jquery-ui.css"</span> type=<span class="string">"text/css"</span> media=<span class="string">"screen"</span> /&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"ueditor1_2_2_0-utf8-php/themes/default/ueditor.css"</span> type=<span class="string">"text/css"</span> media=<span class="string">"screen"</span> /&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!--Internet Explorer Trancparency fix--&gt;</span><br><span class="line">        &lt;!--[<span class="keyword">if</span> IE <span class="number">6</span>]&gt;</span><br><span class="line">        &lt;script src=<span class="string">"js/ie6pngfix.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">          DD_belatedPNG.fix(<span class="string">'#head, a, a span, img, .message p, .click_to_close, .ie6fix'</span>);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">        &lt;![<span class="keyword">endif</span>]--&gt; </span><br><span class="line">        </span><br><span class="line">        &lt;script type=<span class="string">'text/javascript'</span> src=<span class="string">'js/all-ck.js'</span>&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script type=<span class="string">'text/javascript'</span> src=<span class="string">'ueditor1_2_2_0-utf8-php/editor_config.js'</span>&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script type=<span class="string">'text/javascript'</span> src=<span class="string">'js/custom.js'</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id=<span class="string">"top"</span>&gt;</span><br><span class="line">            &lt;div id=<span class="string">"head"</span>&gt;</span><br><span class="line">                &lt;h1 class="logo"&gt;</span><br><span class="line">                    &lt;a href=<span class="string">"index.php"</span>&gt;&lt;/a&gt;</span><br><span class="line">                &lt;/h1&gt;</span><br><span class="line">                &lt;div class="head_memberinfo"&gt;</span><br><span class="line">                    &lt;div class="head_memberinfo_logo"&gt;</span><br><span class="line">                        &lt;span&gt;<span class="number">1</span>&lt;/span&gt;</span><br><span class="line">                        &lt;img src=<span class="string">"images/unreadmail.png"</span> alt=<span class="string">""</span>/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;span <span class="class"><span class="keyword">class</span>='<span class="title">memberinfo_span</span>'&gt;</span></span><br><span class="line">                       æ¬¢è¿ &lt;a href="index.php"&gt;ä¸”å¬é£åŸ&lt;/a&gt;</span><br><span class="line">                   &lt;/span&gt;</span><br><span class="line">                &lt;span&gt;</span><br><span class="line">                    &lt;a href=<span class="string">"logout.php"</span>&gt;ç™»å‡º&lt;/a&gt;</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line"></span><br><span class="line">                &lt;span <span class="class"><span class="keyword">class</span>='<span class="title">memberinfo_span2</span>'&gt;</span></span><br><span class="line">                    &lt;a href="index.php"&gt;1 æ¡ç§ä¿¡&lt;/a&gt;</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;!--end head_memberinfo--&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">            &lt;!--end head--&gt;</span><br><span class="line">           	</span><br><span class="line">            	&lt;div id=<span class="string">"bg_wrapper"</span>&gt;</span><br><span class="line">                </span><br><span class="line">                    &lt;div id=<span class="string">"main"</span>&gt;</span><br><span class="line">                        &lt;div id=<span class="string">"content"</span>&gt;</span><br><span class="line"></span><br><span class="line">                                    &lt;h2 class="jquery_tab_title"&gt;å¿«é€Ÿå…¥å£&lt;/h2&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button1" href="index.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;ç³»ç»Ÿä¿¡æ¯&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button2" href="manage.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;ç®¡ç†å‘˜&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æŸ¥çœ‹å½“å‰ç®¡ç†å‘˜&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button3" href="manage_add.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;æ·»åŠ ç®¡ç†å‘˜&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æ·»åŠ ä¸€ä¸ªæ–°çš„ç”¨æˆ·&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button4" href="father_module_add.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;æ·»åŠ çˆ¶æ¿å—&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æ·»åŠ çˆ¶æ¿å—&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button5" href="father_module.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;çˆ¶æ¿å—åˆ—è¡¨&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æœç´¢å·²ç»å­˜åœ¨çš„çˆ¶æ¿å—åˆ—è¡¨&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button7" href="son_module.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading two_lines"&gt;å­ç‰ˆå—åˆ—è¡¨&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æŸ¥çœ‹å­ç‰ˆå—åˆ—è¡¨&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button8" href="son_module_add.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;æ·»åŠ å­ç‰ˆå—&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æ·»åŠ å­ç‰ˆå—&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button9" href="../index.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading two_lines"&gt;å¸–å­ç®¡ç†&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;å¯¹å¸–å­è¿›è¡Œç®¡ç†&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button10" href="member.php"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading two_lines"&gt;ç”¨æˆ·åˆ—è¡¨&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;æŸ¥çœ‹ç”¨æˆ·&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button11" href="#"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;ç”»å»Š&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;ç®¡ç†æ‚¨çš„å›¾ç‰‡åº“&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;a class="dashboard_button button12" href="#"&gt;</span><br><span class="line">                                        &lt;span class="dashboard_button_heading"&gt;å¸®åŠ©&lt;/span&gt;</span><br><span class="line">                                        &lt;span&gt;å¦‚æœ‰é—®é¢˜ï¼Œè¯·ç‚¹å‡»&lt;/span&gt;</span><br><span class="line">                                    &lt;/a&gt;&lt;!--end dashboard_button--&gt;</span><br><span class="line">                                    </span><br><span class="line">                            &lt;h2&gt;å½“å‰ç®¡ç†å‘˜&lt;/h2&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;p&gt;</span><br><span class="line">                                    ä½ å¥½ ç®¡ç†å‘˜:<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_SESSION[<span class="string">'manage'</span>][<span class="string">'name'</span>]<span class="meta">?&gt;</span></span><br><span class="line">                                &lt;/p&gt;</span><br><span class="line">                                &lt;p&gt;</span><br><span class="line">                                    ä½ çš„ç®¡ç†ç­‰çº§ä¸º:<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $data_manage[<span class="string">'level'</span>]<span class="meta">?&gt;</span></span><br><span class="line">                                &lt;/p&gt;</span><br><span class="line">                                &lt;p&gt;</span><br><span class="line">                                    åˆ›å»ºæ—¶é—´ä¸º:<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $data_manage[<span class="string">'create_time'</span>]<span class="meta">?&gt;</span></span><br><span class="line">                                &lt;/p&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                            &lt;h2&gt;ç»Ÿè®¡ä¿¡æ¯&lt;/h2&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;table&gt;</span><br><span class="line">                                    &lt;tr&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;çˆ¶ç‰ˆå— &lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_father_module<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;å­ç‰ˆå—&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_son_module<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;å¸–å­&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_content<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;å›å¤&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_reply<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;ä¼šå‘˜&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_member<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;ç®¡ç†å‘˜&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $count_manage<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                    &lt;/tr&gt;</span><br><span class="line">                                &lt;/table&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                            &lt;h2&gt;ç³»ç»Ÿä¿¡æ¯&lt;/h2&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;table&gt;</span><br><span class="line">                                    &lt;tr&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼š &lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> PHP_OS<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;æœåŠ¡å™¨è½¯ä»¶ï¼š&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_SERVER[<span class="string">'SERVER_SOFTWARE'</span>]<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;MySQL ç‰ˆæœ¬ï¼š &lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span>  mysqli_get_server_info($link)<span class="meta">?&gt;</span>&lt;/&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;æœ€å¤§ä¸Šä¼ æ–‡ä»¶ï¼š&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> ini_get(<span class="string">'upload_max_filesize'</span>)<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;å†…å­˜é™åˆ¶ï¼š&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> ini_get(<span class="string">'memory_limit'</span>)<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                    &lt;/tr&gt;</span><br><span class="line">                                &lt;/table&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                            &lt;h2&gt;ç¨‹åºä¿¡æ¯&lt;/h2&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                               &lt;table&gt;</span><br><span class="line">                                   &lt;tr&gt;</span><br><span class="line">                                       &lt;th class="specalt"&gt;ç¨‹åºå®‰è£…ä½ç½®(ç»å¯¹è·¯å¾„)&lt;/th&gt;</span><br><span class="line">                                       &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> SA_PATH<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                       &lt;th class="specalt"&gt;ç¨‹åºåœ¨webæ ¹ç›®å½•ä¸‹çš„ä½ç½®(é¦–é¡µçš„urlåœ°å€)ï¼š&lt;/th&gt;</span><br><span class="line">                                       &lt;td&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> SUB_URL<span class="meta">?&gt;</span>&lt;/td&gt;</span><br><span class="line">                                   &lt;/tr&gt;</span><br><span class="line">                                   &lt;tr&gt;</span><br><span class="line">                                       &lt;th class="specalt"&gt;ç¨‹åºä½œè€…ï¼šä¸”å¬é£åŸ&lt;/th&gt;</span><br><span class="line">                                       &lt;td&gt;ä½œè€…å–œæ¬¢æ—…æ¸¸ï¼Œæ˜¯ä¸ªåƒè´§&lt;/td&gt;</span><br><span class="line">                                   &lt;/tr&gt;</span><br><span class="line">                               &lt;/table&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                            &lt;h2&gt;å®‰å…¨ä¿¡æ¯&lt;/h2&gt;</span><br><span class="line">                            &lt;div&gt;</span><br><span class="line">                                &lt;table&gt;</span><br><span class="line">                                    &lt;tr&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;SQLæ³¨å…¥&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;æ— &lt;/td&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;XSSæ”»å‡»&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;æ— &lt;/td&gt;</span><br><span class="line">                                    &lt;/tr&gt;</span><br><span class="line">                                    &lt;tr&gt;</span><br><span class="line">                                        &lt;th class="specalt"&gt;æœ€è¿‘æ£€æŸ¥æ—¥æœŸ:&lt;/th&gt;</span><br><span class="line">                                        &lt;td&gt;<span class="number">2019</span><span class="number">-05</span><span class="number">-06</span>&lt;/td&gt;</span><br><span class="line">                                    &lt;/tr&gt;</span><br><span class="line">                                &lt;/table&gt;</span><br><span class="line">                            &lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;!--end content--&gt;</span><br><span class="line">                        </span><br><span class="line">                    &lt;/div&gt;&lt;!--end main--&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;div id=<span class="string">"sidebar"</span>&gt;</span><br><span class="line">                        &lt;ul class="nav"&gt;</span><br><span class="line">                            &lt;li&gt;&lt;a class="headitem item1" href="#"&gt;ç³»ç»Ÿ&lt;/a&gt;</span><br><span class="line">                                &lt;ul&gt;&lt;!-- ul items without this <span class="class"><span class="keyword">class</span> <span class="title">get</span> <span class="title">hiddden</span> <span class="title">by</span> <span class="title">jquery</span>--&gt;</span></span><br><span class="line">                                    &lt;li&gt;&lt;a href="index.php"&gt;ç³»ç»Ÿä¿¡æ¯&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"manage.php"</span>&gt;ç®¡ç†å‘˜&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"manage_add.php"</span>&gt;æ·»åŠ ç®¡ç†å‘˜&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"web_set.php"</span>&gt;ç«™ç‚¹è®¾ç½®&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                &lt;/ul&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;&lt;a class="headitem item4" href="#"&gt;å†…å®¹ç®¡ç†&lt;/a&gt;</span><br><span class="line">                                &lt;ul&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"father_module.php"</span>&gt;çˆ¶æ¿å—åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"father_module_add.php"</span>&gt;æ·»åŠ çˆ¶æ¿å—&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"son_module.php"</span>&gt;å­ç‰ˆå—åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"son_module_add.php"</span>&gt;æ·»åŠ å­ç‰ˆå—&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"../index.php"</span>&gt;å¸–å­ç®¡ç†&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                &lt;/ul&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;&lt;a class="headitem item5" href="#"&gt;ç”¨æˆ·æœç´¢&lt;/a&gt;</span><br><span class="line">                                &lt;ul&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"member.php"</span>&gt;ç”¨æˆ·åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                &lt;/ul&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                            &lt;!--end subnav--&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;div class="flexy_datepicker"&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                            &lt;li&gt;&lt;a class="headitem item7" href="#"&gt;åšå®¢æµè§ˆ&lt;/a&gt;</span><br><span class="line">                                &lt;ul&gt;</span><br><span class="line">                                    &lt;li&gt;&lt;a href=<span class="string">"https://bealright.github.io/"</span>&gt;åšå®¢&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                                &lt;/ul&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                        &lt;/ul&gt;     </span><br><span class="line"></span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                    &lt;!--end sidebar--&gt;</span><br><span class="line">                        </span><br><span class="line">                     &lt;/div&gt;&lt;!--end bg_wrapper--&gt;</span><br><span class="line">                     </span><br><span class="line">                &lt;div id=<span class="string">"footer"</span> style=<span class="string">"color: #fff;text-align: center"</span>&gt;</span><br><span class="line">                <span class="keyword">TRY</span> YOUR BEST!!!&lt;a href=<span class="string">"https://bealright.github.io/"</span> target=<span class="string">"_blank"</span> title=<span class="string">"ä¸”å¬é£åŸ"</span>&gt;ä¸”å¬é£åŸ&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;&lt;!--end footer--&gt;</span><br><span class="line">                </span><br><span class="line">        &lt;/div&gt;&lt;!-- end top --&gt; </span><br><span class="line">    &lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œçš„ä¸€äº›phpä»£ç åŒ…å«äº†ç³»ç»Ÿä¿¡æ¯è¿™ä¸ªåŠŸèƒ½<br>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/20190601164605623.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¥ä¸‹æ¥æ˜¯<code>login.php</code>ç™»é™†é¡µé¢ï¼Œä½†åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬éœ€è¦åšä¸€ä¸ªéªŒè¯ç™»é™†çš„æ–‡ä»¶<br><code>tool.inc.php</code>è·³è½¬+éªŒè¯ç™»é™†åŠŸèƒ½<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">skip</span><span class="params">($url,$pic,$message)</span></span>&#123;</span><br><span class="line">$html=<span class="string">&lt;&lt;&lt;A</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">&lt;html lang="zh-CN"&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">&lt;meta charset="utf-8" /&gt;</span></span><br><span class="line"><span class="string">&lt;meta http-equiv="refresh" content="3;URL=<span class="subst">&#123;$url&#125;</span>" /&gt;</span></span><br><span class="line"><span class="string">&lt;title&gt;æ­£åœ¨è·³è½¬ä¸­&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;link rel="stylesheet" type="text/css" href="style/remind.css" /&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div class="notice"&gt;&lt;span class="pic <span class="subst">&#123;$pic&#125;</span>"&gt;&lt;/span&gt; <span class="subst">&#123;$message&#125;</span> &lt;a href="<span class="subst">&#123;$url&#125;</span>"&gt;3ç§’åè‡ªåŠ¨è·³è½¬ä¸­!&lt;/a&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">A;</span></span><br><span class="line"><span class="keyword">echo</span> $html;</span><br><span class="line"><span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éªŒè¯å‰å°ç”¨æˆ·æ˜¯å¦ç™»é™†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_login</span><span class="params">($link)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($_COOKIE[<span class="string">'bbs'</span>][<span class="string">'name'</span>]) &amp;&amp; <span class="keyword">isset</span>($_COOKIE[<span class="string">'bbs'</span>][<span class="string">'pw'</span>]))&#123;</span><br><span class="line">		$query=<span class="string">"select * from member where name='&#123;$_COOKIE['bbs']['name']&#125;' and sha1(pw)='&#123;$_COOKIE['bbs']['pw']&#125;'"</span>;</span><br><span class="line">		$result=execute($link,$query);</span><br><span class="line">		<span class="keyword">if</span>(mysqli_num_rows($result)==<span class="number">1</span>)&#123;</span><br><span class="line">			$data=mysqli_fetch_assoc($result);</span><br><span class="line">			<span class="keyword">return</span> $data[<span class="string">'id'</span>];</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_user</span><span class="params">($member_id,$content_member_id,$is_manage_login)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>($member_id==$content_member_id || $is_manage_login)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éªŒè¯åå°ç”¨æˆ·æ˜¯å¦ç™»é™†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_manage_login</span><span class="params">($link)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($_SESSION[<span class="string">'manage'</span>][<span class="string">'name'</span>]) &amp;&amp; <span class="keyword">isset</span>($_SESSION[<span class="string">'manage'</span>][<span class="string">'pw'</span>]))&#123;</span><br><span class="line">		$query=<span class="string">"select * from manage where name='&#123;$_SESSION['manage']['name']&#125;' and sha1(pw)='&#123;$_SESSION['manage']['pw']&#125;'"</span>;</span><br><span class="line">		$result=execute($link,$query);</span><br><span class="line">		<span class="keyword">if</span>(mysqli_num_rows($result)==<span class="number">1</span>)&#123;</span><br><span class="line">			$data=mysqli_fetch_assoc($result);</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><code>login.php</code>ç™»é™†é¡µé¢<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'../inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line"><span class="keyword">if</span>(is_manage_login($link))&#123;</span><br><span class="line">    skip(<span class="string">'index.php'</span>,<span class="string">'ok'</span>,<span class="string">'è¯·ä¸ç”¨é‡å¤ç™»é™†'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_POST[<span class="string">'submit'</span>]))&#123;</span><br><span class="line">    <span class="keyword">include_once</span> <span class="string">'inc/check_login.inc.php'</span>;</span><br><span class="line">    $query=<span class="string">"select * from manage where name='&#123;$_POST['name']&#125;' and pw=md5('&#123;$_POST['pw']&#125;')"</span>;</span><br><span class="line">    $result=execute($link,$query);</span><br><span class="line">    <span class="keyword">if</span>(mysqli_num_rows($result)==<span class="number">1</span>)&#123;</span><br><span class="line">        $data=mysqli_fetch_assoc($result);</span><br><span class="line">        $_SESSION[<span class="string">'manage'</span>][<span class="string">'name'</span>]=$data[<span class="string">'name'</span>];</span><br><span class="line">        $_SESSION[<span class="string">'manage'</span>][<span class="string">'pw'</span>]=sha1($data[<span class="string">'pw'</span>]);</span><br><span class="line">        $_SESSION[<span class="string">'manage'</span>][<span class="string">'id'</span>]=$data[<span class="string">'id'</span>];</span><br><span class="line">        $_SESSION[<span class="string">'manage'</span>][<span class="string">'level'</span>]=$data[<span class="string">'level'</span>];</span><br><span class="line">        skip(<span class="string">'index.php'</span>,<span class="string">'ok'</span>,<span class="string">'ç™»é™†æˆåŠŸ'</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        skip(<span class="string">'login.php'</span>,<span class="string">'error'</span>,<span class="string">'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang="en" class="no-js"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;head&gt;</span><br><span class="line"></span><br><span class="line">        &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">        &lt;title&gt;åå°ç™»å½•&lt;/title&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"description"</span> content=<span class="string">""</span>&gt;</span><br><span class="line">        &lt;meta name=<span class="string">"author"</span> content=<span class="string">""</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- CSS --&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"assets/css/reset.css"</span>&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"assets/css/supersized.css"</span>&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"assets/css/style.css"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- HTML5 shim, <span class="keyword">for</span> IE6<span class="number">-8</span> support of HTML5 elements --&gt;</span><br><span class="line">        &lt;!--[<span class="keyword">if</span> lt IE <span class="number">9</span>]&gt;</span><br><span class="line">            &lt;script src=<span class="string">"assets/js/html5.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">        &lt;![<span class="keyword">endif</span>]--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">    &lt;body&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class="page-container"&gt;</span><br><span class="line">            &lt;h1&gt;ç™»å½•(Login)&lt;/h1&gt;</span><br><span class="line">            &lt;form action=<span class="string">""</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">                &lt;input type="text" name="name" class="text" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·åï¼"&gt;</span><br><span class="line">                &lt;input type="password" name="pw" class="text" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å¯†ç ï¼"&gt;</span><br><span class="line">                &lt;button type="submit" class="submit" name="submit"&gt;ç™»å½•&lt;/button&gt;</span><br><span class="line">                &lt;div class="error"&gt;&lt;span&gt;+&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">            &lt;div class="connect"&gt;</span><br><span class="line">                &lt;p&gt;å¿«æ·&lt;/p&gt;</span><br><span class="line">                &lt;p&gt;</span><br><span class="line">                    &lt;a class="facebook" href=""&gt;&lt;/a&gt;</span><br><span class="line">                    &lt;a class="twitter" href=""&gt;&lt;/a&gt;</span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">		</span><br><span class="line">        &lt;!-- Javascript --&gt;</span><br><span class="line">        &lt;script src=<span class="string">"assets/js/jquery-1.8.2.min.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=<span class="string">"assets/js/supersized.3.2.7.min.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=<span class="string">"assets/js/supersized-init.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=<span class="string">"assets/js/scripts.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>å®ç°æ•ˆæœï¼š<br><img src="https://img-blog.csdnimg.cn/2019060116521486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>OKï¼Œè¿™æ ·ç™»é™†é¡µé¢å°±å®Œæˆäº†ï¼Œæœ‰ç™»é™†å°±è¦æœ‰æ³¨é”€ï¼Œä¸‹é¢åšæ³¨é”€é¡µé¢ã€‚<br> <code>logout.php</code>æ³¨é”€é¡µé¢<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/config.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/mysql.inc.php'</span>;</span><br><span class="line"><span class="keyword">include_once</span> <span class="string">'inc/tool.inc.php'</span>;</span><br><span class="line">$link=connect();</span><br><span class="line">setcookie(<span class="string">'bbs[name]'</span>,<span class="string">''</span>,time()<span class="number">-3600</span>);</span><br><span class="line">setcookie(<span class="string">'bbs[pw]'</span>,<span class="string">''</span>,time()<span class="number">-3600</span>);</span><br><span class="line">skip(<span class="string">'index.php'</span>,<span class="string">'ok'</span>,<span class="string">'é€€å‡ºæˆåŠŸï¼'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™æ ·åå°å¤§éƒ¨åˆ†åŠŸèƒ½å·²ç»å®Œå–„å¥½äº†ï¼Œæœ‰çš„åŠŸèƒ½éœ€è¦å’Œå‰å°äº¤äº’ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘å‰å°çš„è¿‡ç¨‹å†å°†å…¶å®Œå–„ã€‚</p>
<p>æ„Ÿæ‚Ÿï¼šæ•²çš„æ—¶å€™ç»å¸¸æ•²é”™ã€ææ··ã€é‡åˆ°æŠ¥é”™ï¼Œæœ‰æ—¶ä¸€ä¿®æ”¹å°±æ˜¯ä¿®æ”¹å‡ ä¸ªå°æ—¶ï¼Œä½†è¿™ä¹Ÿè®¸å°±æ˜¯æ•²ä»£ç çš„ä¹è¶£æ‰€åœ¨å§ï¼Œè¿‡ç¨‹å¾ˆéš¾å—ï¼Œä½†æ‰¾åˆ°errorå¹¶æ”¹å¥½ä¹Ÿä¼šæœ‰ä¸€ç§æˆå°±æ„Ÿï¼Œä¸‹ä¸€ç¯‡å°†ç»§ç»­å¼€å‘å‰å°åŠŸèƒ½ï¼Œæœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚<br><img src="https://img-blog.csdnimg.cn/201906011658314.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNDMxMTU4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src>
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci data-cs data-r data-o data-a data-d="false">æŸ¥çœ‹è¯„è®º</div>


    </div>
    
        <div class="side">
            
        </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
